(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fcbf2dec"],{"482d":function(t,e,i){"use strict";function n(t,e,i){return Math.min(Math.max(t,e),i)}function s(t,e,i){var n=t.indexOf(e),s="";return-1===n?t:"-"===e&&0!==n?t.slice(0,n):("."===e&&t.match(/^(\.|-\.)/)&&(s=n?"-0":"0"),s+t.slice(0,n+1)+t.slice(n).replace(i,""))}function r(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),t=e?s(t,".",/\./g):t.split(".")[0],t=i?s(t,"-",/-/g):t.replace(/-/,"");var n=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(n,"")}i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return r}))},4992:function(t,e,i){},"565f":function(t,e,i){"use strict";var n=i("2638"),s=i.n(n),r=i("c31d"),a=i("a142");function o(){return!a["g"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var l=i("a8c1"),c=o();function u(){c&&Object(l["g"])(Object(l["b"])())}var h=i("482d"),d=i("1325"),p=i("d282"),f=i("ea8e"),g=i("ad06"),m=i("7744"),v=i("dfaf"),b=Object(p["a"])("field"),y=b[0],w=b[1];e["a"]=y({inheritAttrs:!1,provide:function(){return{vanField:this}},inject:{vanForm:{default:null}},props:Object(r["a"])({},v["a"],{name:String,rules:Array,disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,formatter:Function,maxlength:[Number,String],labelWidth:[Number,String],labelClass:null,labelAlign:String,inputAlign:String,placeholder:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,value:{type:[Number,String],default:""},type:{type:String,default:"text"},error:{type:Boolean,default:null},colon:{type:Boolean,default:null},clearTrigger:{type:String,default:"focus"},formatTrigger:{type:String,default:"onChange"}}),data:function(){return{focused:!1,validateFailed:!1,validateMessage:""}},watch:{value:function(){this.updateValue(this.value),this.resetValidation(),this.validateWithTrigger("onChange"),this.$nextTick(this.adjustSize)}},mounted:function(){this.updateValue(this.value,this.formatTrigger),this.$nextTick(this.adjustSize),this.vanForm&&this.vanForm.addField(this)},beforeDestroy:function(){this.vanForm&&this.vanForm.removeField(this)},computed:{showClear:function(){var t=this.getProp("readonly");if(this.clearable&&!t){var e=Object(a["c"])(this.value)&&""!==this.value,i="always"===this.clearTrigger||"focus"===this.clearTrigger&&this.focused;return e&&i}},showError:function(){return null!==this.error?this.error:!!(this.vanForm&&this.vanForm.showError&&this.validateFailed)||void 0},listeners:function(){return Object(r["a"])({},this.$listeners,{blur:this.onBlur,focus:this.onFocus,input:this.onInput,click:this.onClickInput,keypress:this.onKeypress})},labelStyle:function(){var t=this.getProp("labelWidth");if(t)return{width:Object(f["a"])(t)}},formValue:function(){return this.children&&(this.$scopedSlots.input||this.$slots.input)?this.children.value:this.value}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},runValidator:function(t,e){return new Promise((function(i){var n=e.validator(t,e);if(Object(a["f"])(n))return n.then(i);i(n)}))},isEmptyValue:function(t){return Array.isArray(t)?!t.length:0!==t&&!t},runSyncRule:function(t,e){return(!e.required||!this.isEmptyValue(t))&&!(e.pattern&&!e.pattern.test(t))},getRuleMessage:function(t,e){var i=e.message;return Object(a["d"])(i)?i(t,e):i},runRules:function(t){var e=this;return t.reduce((function(t,i){return t.then((function(){if(!e.validateFailed){var t=e.formValue;return i.formatter&&(t=i.formatter(t,i)),e.runSyncRule(t,i)?i.validator?e.runValidator(t,i).then((function(n){!1===n&&(e.validateFailed=!0,e.validateMessage=e.getRuleMessage(t,i))})):void 0:(e.validateFailed=!0,void(e.validateMessage=e.getRuleMessage(t,i)))}}))}),Promise.resolve())},validate:function(t){var e=this;return void 0===t&&(t=this.rules),new Promise((function(i){t||i(),e.resetValidation(),e.runRules(t).then((function(){e.validateFailed?i({name:e.name,message:e.validateMessage}):i()}))}))},validateWithTrigger:function(t){if(this.vanForm&&this.rules){var e=this.vanForm.validateTrigger===t,i=this.rules.filter((function(i){return i.trigger?i.trigger===t:e}));i.length&&this.validate(i)}},resetValidation:function(){this.validateFailed&&(this.validateFailed=!1,this.validateMessage="")},updateValue:function(t,e){void 0===e&&(e="onChange"),t=Object(a["c"])(t)?String(t):"";var i=this.maxlength;if(Object(a["c"])(i)&&t.length>i&&(t=this.value&&this.value.length===+i?this.value:t.slice(0,i)),"number"===this.type||"digit"===this.type){var n="number"===this.type;t=Object(h["a"])(t,n,n)}this.formatter&&e===this.formatTrigger&&(t=this.formatter(t));var s=this.$refs.input;s&&t!==s.value&&(s.value=t),t!==this.value&&this.$emit("input",t)},onInput:function(t){t.target.composing||this.updateValue(t.target.value)},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.$nextTick(this.adjustSize),this.getProp("readonly")&&this.blur()},onBlur:function(t){this.getProp("readonly")||(this.focused=!1,this.updateValue(this.value,"onBlur"),this.$emit("blur",t),this.validateWithTrigger("onBlur"),this.$nextTick(this.adjustSize),u())},onClick:function(t){this.$emit("click",t)},onClickInput:function(t){this.$emit("click-input",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(d["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){var e=13;if(t.keyCode===e){var i=this.getProp("submitOnEnter");i||"textarea"===this.type||Object(d["c"])(t),"search"===this.type&&this.blur()}this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){var e=Object(l["b"])();t.style.height="auto";var i=t.scrollHeight;if(Object(a["e"])(this.autosize)){var n=this.autosize,s=n.maxHeight,r=n.minHeight;s&&(i=Math.min(i,s)),r&&(i=Math.max(i,r))}i&&(t.style.height=i+"px",Object(l["g"])(e))}},genInput:function(){var t=this.$createElement,e=this.type,i=this.getProp("disabled"),n=this.getProp("readonly"),a=this.slots("input"),o=this.getProp("inputAlign");if(a)return t("div",{class:w("control",[o,"custom"]),on:{click:this.onClickInput}},[a]);var l={ref:"input",class:w("control",o),domProps:{value:this.value},attrs:Object(r["a"])({},this.$attrs,{name:this.name,disabled:i,readonly:n,placeholder:this.placeholder}),on:this.listeners,directives:[{name:"model",value:this.value}]};if("textarea"===e)return t("textarea",s()([{},l]));var c,u=e;return"number"===e&&(u="text",c="decimal"),"digit"===e&&(u="tel",c="numeric"),t("input",s()([{attrs:{type:u,inputmode:c}},l]))},genLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:w("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(g["a"],{attrs:{name:this.leftIcon,classPrefix:this.iconPrefix}})])},genRightIcon:function(){var t=this.$createElement,e=this.slots,i=e("right-icon")||this.rightIcon;if(i)return t("div",{class:w("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(g["a"],{attrs:{name:this.rightIcon,classPrefix:this.iconPrefix}})])},genWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.maxlength){var e=(this.value||"").length;return t("div",{class:w("word-limit")},[t("span",{class:w("word-num")},[e]),"/",this.maxlength])}},genMessage:function(){var t=this.$createElement;if(!this.vanForm||!1!==this.vanForm.showErrorMessage){var e=this.errorMessage||this.validateMessage;if(e){var i=this.getProp("errorMessageAlign");return t("div",{class:w("error-message",i)},[e])}}},getProp:function(t){return Object(a["c"])(this[t])?this[t]:this.vanForm&&Object(a["c"])(this.vanForm[t])?this.vanForm[t]:void 0},genLabel:function(){var t=this.$createElement,e=this.getProp("colon")?":":"";return this.slots("label")?[this.slots("label"),e]:this.label?t("span",[this.label+e]):void 0}},render:function(){var t,e=arguments[0],i=this.slots,n=this.getProp("disabled"),s=this.getProp("labelAlign"),r={icon:this.genLeftIcon},a=this.genLabel();a&&(r.title=function(){return a});var o=this.slots("extra");return o&&(r.extra=function(){return o}),e(m["a"],{attrs:{icon:this.leftIcon,size:this.size,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,valueClass:w("value"),titleClass:[w("label",s),this.labelClass],arrowDirection:this.arrowDirection},scopedSlots:r,class:w((t={error:this.showError,disabled:n},t["label-"+s]=s,t["min-height"]="textarea"===this.type&&!this.autosize,t)),on:{click:this.onClick}},[e("div",{class:w("body")},[this.genInput(),this.showClear&&e(g["a"],{attrs:{name:"clear"},class:w("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),i("button")&&e("div",{class:w("button")},[i("button")])]),this.genWordLimit(),this.genMessage()])}})},7555:function(t,e,i){"use strict";i.d(e,"f",(function(){return a})),i.d(e,"e",(function(){return o})),i.d(e,"g",(function(){return l})),i.d(e,"d",(function(){return c})),i.d(e,"a",(function(){return u})),i.d(e,"c",(function(){return h})),i.d(e,"b",(function(){return d}));var n=i("b775"),s=i("4328"),r=i.n(s);function a(t,e,i){return Object(n["a"])({url:"/user/app/login",method:"post",data:r.a.stringify({phone:t,password:e,brand_id:i})})}function o(t,e,i,s){return Object(n["a"])({url:"user/app/password/update",method:"post",data:r.a.stringify({phone:t,password:i,vericode:e,brandId:s})})}function l(t,e){return Object(n["a"])({url:"notice/app/sms/send",method:"get",params:{brand_id:e,phone:t}})}function c(t,e){return Object(n["a"])({url:"/notice/app/sms/send",method:"get",params:{brand_id:t,phone:e}})}function u(t){return Object(n["a"])({url:"/user/app/phone/select",method:"post",data:r.a.stringify({phone:t})})}function h(t,e,i,s,a){return Object(n["a"])({url:"/user/app/smslogin",method:"post",data:r.a.stringify({brandId:t,phone:e,vericode:i,preUserPhone:s,password:a})})}function d(t,e,i){return Object(n["a"])({url:"/user/app/paypass/update/",method:"post",data:r.a.stringify({phone:t,vericode:e,paypass:i})})}},"7f75":function(t,e,i){},"9eda":function(t,e,i){"use strict";i("3cd0"),i("1a44"),i("acc2"),i("01f7"),i("7f75")},a78e:function(t,e,i){var n,s;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(r){var a;if(n=r,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s),a=!0,t.exports=r(),a=!0,!a){var o=window.Cookies,l=window.Cookies=r();l.noConflict=function(){return window.Cookies=o,l}}})((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(n){function s(){}function r(e,i,r){if("undefined"!==typeof document){r=t({path:"/"},s.defaults,r),"number"===typeof r.expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var a=JSON.stringify(i);/^[\{\[]/.test(a)&&(i=a)}catch(c){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in r)r[l]&&(o+="; "+l,!0!==r[l]&&(o+="="+r[l].split(";")[0]));return document.cookie=e+"="+i+o}}function a(t,i){if("undefined"!==typeof document){for(var s={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var o=r[a].split("="),l=o.slice(1).join("=");i||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(o[0]);if(l=(n.read||n)(l,c)||e(l),i)try{l=JSON.parse(l)}catch(u){}if(s[c]=l,t===c)break}catch(u){}}return t?s[t]:s}}return s.set=r,s.get=function(t){return a(t,!1)},s.getJSON=function(t){return a(t,!0)},s.remove=function(e,i){r(e,"",t(i,{expires:-1}))},s.defaults={},s.withConverter=i,s}return i((function(){}))}))},ae20:function(t,e,i){t.exports=i.p+"static/img/login_logo.83019a7b.png"},c1e4:function(t,e,i){"use strict";var n=i("4992"),s=i.n(n);s.a},dd7b:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[t._m(0),i("div",{staticClass:"cont"},[i("ul",{staticClass:"list"},[i("li",{staticClass:"item theme_border_b"},[i("div",{staticClass:"switchover"},[i("span",{class:t.active?"active":"noactive",on:{click:function(e){t.active=!t.active}}},[t._v("注册账号")]),i("span",{class:t.active?"noactive":"active",on:{click:function(e){t.active=!t.active}}},[t._v("密码登录")])]),i("div",{staticClass:"input"},[i("div",{staticClass:"right"},[i("van-field",{attrs:{type:"number",clearable:"",placeholder:"请输入手机号",maxlength:"11"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)])]),i("li",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"item "},[i("div",{staticClass:"input theme_border_b"},[i("div",{},[i("van-field",{attrs:{clearable:"",type:"number",placeholder:"请输入短信验证码",maxlength:"6"},scopedSlots:t._u([{key:"button",fn:function(){return[i("div",{staticClass:"sms",on:{click:function(e){"发送验证码"==t.message&&t.getCode()}}},[t._v("\n                  "+t._s(t.message)+"\n                ")])]},proxy:!0}]),model:{value:t.smsCode,callback:function(e){t.smsCode=e},expression:"smsCode"}})],1)]),i("div",{staticClass:"input theme_border_b"},[i("div",{},[i("van-field",{attrs:{clearable:"",type:"password",placeholder:"请输入密码，6-16位数字字母组合"},model:{value:t.regPwd,callback:function(e){t.regPwd=e},expression:"regPwd"}})],1)]),i("div",{staticClass:"input theme_border_b"},[i("div",{},[i("van-field",{attrs:{clearable:"",type:"number",maxlength:"11",placeholder:"推荐人手机号"},model:{value:t.preUserPhone,callback:function(e){t.preUserPhone=e},expression:"preUserPhone"}})],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.active,expression:"!active"}]},[i("li",{staticClass:"item theme_border_b"},[i("div",{staticClass:"input"},[i("div",{},[i("van-field",{attrs:{clearable:"",type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)])]),i("p",{staticClass:"forget"},[i("span",{on:{click:t.forget}},[t._v("忘记密码?")])])])]),i("div",{staticClass:"btn",on:{click:t.confirm}},[t._v("立即登录")]),i("div",{staticClass:"login_tips",on:{click:t.pull}},[t._v("\n      登录即代表已同意 "),i("span",[t._v("《东风联盟生活服务协议》")])])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top"},[n("img",{staticClass:"login_logo",attrs:{src:i("ae20"),alt:""}}),n("p",[t._v("心有多大 舞台就有多大")])])}],r=(i("ac6a"),i("28a5"),i("a481"),i("bd86")),a=(i("7f7f"),i("9eda"),i("565f")),o=i("a78e"),l=i.n(o),c=i("7555"),u={data:function(){return{active:!1,brandId:this.global.brandId,password:"",phone:"",smsCode:"",num:60,message:"发送验证码",preUserPhone:"",regPwd:""}},components:Object(r["a"])({},a["a"].name,a["a"]),created:function(){this.phone=l.a.get("kd_l_phone")},beforeRouteEnter:function(t,e,i){null!=e.name&&""!=e.name||!localStorage.getItem("token")||i((function(t){t.nextReplace()})),i()},methods:{nextReplace:function(){this.$router.replace({name:"home"})},time:function(){var t=this,e=setInterval((function(){t.message="("+t.num+")秒",t.num--,0==t.num&&(clearInterval(e),t.num=60,t.message="发送验证码")}),1e3)},getCode:function(){var t=this;Object(c["d"])(this.brandId,this.phone).then((function(e){"000000"==e.resp_code&&(t.time(),t.$toast({message:e.resp_message,position:"bottom"}))}))},regconfirm:function(){var t=this;""!=this.smsCode?this.regPwd?this.publicJs.isPhoneNumber(this.preUserPhone)?this.$toast({message:"推荐人手机号码有误,请重填",position:"bottom"}):Object(c["c"])(this.brandId,this.phone,this.smsCode,this.preUserPhone,this.regPwd).then((function(e){"000000"==e.resp_code&&(t.active=!1,t.password=t.regPwd,t.$toast({message:"注册成功",position:"bottom"}))}),(function(e){t.$toast({message:"注册失败",position:"bottom"})})):this.$toast({message:"请设置密码",position:"bottom"}):this.$toast({message:"请先获取输入验证码",position:"bottom"})},meiqia:function(){_MEIQIA("init"),_MEIQIA("showPanel")},confirm:function(){var t=this;if(this.publicJs.isPhoneNumber(this.phone))this.$toast({message:"手机号码有误，请重填",position:"bottom"});else if(this.active)this.regconfirm();else{if(""==this.password)return void this.$toast({message:"密码不能为空",position:"bottom"});if(this.password.length<6)return void this.$toast({message:"密码不能小于6位",position:"bottom"});Object(c["f"])(this.phone,this.password,this.brandId).then((function(e){"000000"==e.resp_code&&(localStorage.setItem("userId",e.result.id),localStorage.setItem("phone",e.result.phone),localStorage.setItem("token",e.result.userToken),localStorage.setItem("ip",t.global.ip),localStorage.setItem("userName",e.result.fullname),localStorage.setItem("loginT",!0),localStorage.setItem("brandId",e.result.brandId),t.deviceId(),l.a.set("kd_l_phone",t.phone),sessionStorage.setItem("userName",e.result.fullname),sessionStorage.setItem("phone",e.result.phone),t.$router.push({name:"home"}))}))}},deviceId:function(){var t=Math.ceil(navigator.platform.length/3),e="",i=0,n=returnCitySN["cip"].split(".");n.forEach((function(s,r){r!=n.length-1?(e+=s+navigator.platform.substring(i,i+t),i+=t):e+=s})),localStorage.setItem("kd_webapp_deviceId",e)},pull:function(){this.$router.push({name:"pull"})},forget:function(){this.$router.push({name:"userpassword"})}}},h=u,d=(i("c1e4"),i("2877")),p=Object(d["a"])(h,n,s,!1,null,"41ff3363",null);e["default"]=p.exports}}]);